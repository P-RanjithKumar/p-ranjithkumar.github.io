<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Updated Title (from blog4) -->
    <title>Empowering Patients with Technology: A Deep Dive into My Healthcare Project | Ranjith Kumar</title>
    <!-- Updated Description (based on blog4) -->
    <meta name="description" content="A deep dive into a smart, AI-powered healthcare assistant project designed to organize medical documents and provide personalized assistance via web and Android interfaces.">

    <!-- Include MathJax for rendering LaTeX equations (kept from blog5 template, though not used in this post) -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        /* --- Copied Styles from blog5.html --- */
        /* 1. --- Reset & Base Styles --- */
        :root {
            --font-primary: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            --font-serif: "Merriweather", "Georgia", serif;
            --font-mono: "Fira Code", "Courier New", monospace;

            --color-text: #333;
            --color-bg: #ffffff;
            --color-primary: #0d6efd; /* Bootstrap Blue */
            --color-secondary: #6c757d;
            --color-accent: #fd7e14; /* Bootstrap Orange */
            --color-border: #dee2e6;
            --color-code-bg: #f8f9fa;
            --color-blockquote-border: var(--color-primary);
            --color-illustration-bg: #e9ecef;
            --color-illustration-border: var(--color-accent);

            --container-width: 800px;
            --toc-width: 220px; /* Width for the Table of Contents */
            --layout-gap: calc(var(--spacing-unit) * 2.5); /* Gap between content and TOC */
            --main-wrapper-width: calc(var(--container-width) + var(--toc-width) + var(--layout-gap)); /* Max width for content+TOC */

            --spacing-unit: 1rem;
            --border-radius: 6px;
            --transition-speed: 0.3s;
            --transition-speed-fast: 0.15s;
            --header-height: 65px;
        }

        body.dark-mode {
            --color-text: #e9ecef;
            --color-bg: #121212;
            --color-primary: #4dabf7;
            --color-secondary: #adb5bd;
            --color-accent: #ff922b;
            --color-border: #495057;
            --color-code-bg: #2a2a2a;
            --color-blockquote-border: var(--color-primary);
            --color-illustration-bg: #343a40;
            --color-illustration-border: var(--color-accent);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; font-size: 100%; } /* Enable smooth scroll */

        body {
            font-family: var(--font-primary);
            line-height: 1.7;
            color: var(--color-text);
            background-color: var(--color-bg);
            transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
        }

        img, video, figure, canvas, iframe { max-width: 100%; height: auto; display: block; margin: var(--spacing-unit) 0; }
        a { color: var(--color-primary); text-decoration: none; transition: color var(--transition-speed-fast) ease, opacity var(--transition-speed-fast) ease; }
        a:hover { color: var(--color-accent); text-decoration: underline; }
        *:focus-visible { outline: 3px dashed var(--color-primary); outline-offset: 3px; }

        /* Target headings for scroll margin */
        h2[id], h3[id], h4[id], section[id] {
            scroll-margin-top: calc(var(--header-height) + var(--spacing-unit) * 1.5);
        }

        /* 2. --- Layout Structure --- */
        .container { /* Still used for header/footer */
             width: 90%;
             max-width: var(--container-width); /* Default article width */
             margin: 0 auto;
             padding: 0 calc(var(--spacing-unit) / 2);
        }
        /* New wrapper for main content and TOC */
        .content-wrapper {
            width: 90%;
            max-width: var(--main-wrapper-width);
            margin: 0 auto;
            display: grid;
            grid-template-columns: minmax(0, var(--container-width)) auto; /* Article column + TOC column */
            gap: var(--layout-gap);
            align-items: start; /* Align top */
        }
        .article-column {
            grid-column: 1 / 2;
            max-width: 100%; /* Ensure it doesn't overflow */
        }
        .toc-column {
            grid-column: 2 / 3;
            width: var(--toc-width);
            position: sticky;
            top: calc(var(--header-height) + var(--spacing-unit) * 1.5); /* Stick below header */
            height: calc(100vh - var(--header-height) - var(--spacing-unit) * 3); /* Limit height */
            overflow-y: auto; /* Allow scrolling within TOC if needed */
        }

        #progress-bar { position: fixed; top: 0; left: 0; height: 5px; background: linear-gradient(90deg, var(--color-primary), var(--color-accent)); width: 0%; z-index: 100; transition: width 0.1s linear; }

        /* 3. --- Header --- */
        .site-header {
            background-color: rgba(var(--color-bg-rgb, 255, 255, 255), 0.85);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1); /* Example: Less opaque black */
            padding: calc(var(--spacing-unit) * 0.75) 0;
            position: sticky; top: 0; z-index: 99;
            transition: background-color var(--transition-speed) ease, border-color var(--transition-speed) ease;
            height: var(--header-height);
        }
        /* Add this rule for dark mode border adjustment */
        body.dark-mode .site-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Example: Less opaque white */
        }
        body { --color-bg-rgb: 255, 255, 255; --color-primary-rgb: 13, 110, 253;}
        body.dark-mode { --color-bg-rgb: 18, 18, 18; --color-primary-rgb: 77, 171, 247; }

        .site-header .container { display: flex; justify-content: space-between; align-items: center; height: 100%; max-width: var(--main-wrapper-width); /* Make header align with content+toc */ }
        .logo { font-size: 1.6rem; font-weight: 700; color: var(--color-text); transition: color var(--transition-speed-fast) ease; }
        .logo:hover { text-decoration: none; color: var(--color-primary); }
        /* Remove these rules - navigation is handled by header actions */
        /* .main-navigation ul { ... } */
        /* .main-navigation a { ... } */
        @media (max-width: 768px) { .main-navigation { display: none; } }

        .header-actions { display: flex; align-items: center; gap: calc(var(--spacing-unit) * 1.2); }
        .header-actions button { background: none; border: none; cursor: pointer; font-size: 1.3rem; color: var(--color-secondary); transition: color var(--transition-speed-fast) ease, transform var(--transition-speed-fast) ease; padding: 5px; }
        .header-actions button:hover {
            color: var(--color-primary);
            transform: scale(1.1);
            background-color: rgba(var(--color-primary-rgb), 0.08);
            border-radius: 50%;
        }
        .header-actions button:focus-visible {
            outline: 2px solid var(--color-primary);
            outline-offset: 2px;
            background-color: rgba(var(--color-primary-rgb), 0.08);
            border-radius: 50%;
        }
        #search-input { display: none; border: 1px solid var(--color-border); padding: 6px 10px; border-radius: var(--border-radius); background-color: var(--color-bg); color: var(--color-text); }
        body.search-active #search-input { display: inline-block; animation: fadeIn 0.3s ease forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateX(10px)} to { opacity: 1; transform: translateX(0)} }
        @media (max-width: 768px) { .main-navigation { display: none; } }

        /* 4. --- Main Content Area --- */
        .main-content { flex-grow: 1; padding: calc(var(--spacing-unit) * 2.5) 0; }
        .blog-post { background-color: var(--color-bg); transition: background-color var(--transition-speed) ease; }
        /* Featured image now within the article column */
        .post-featured-image { margin-bottom: calc(var(--spacing-unit) * 2); border-radius: var(--border-radius); overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.08); transition: box-shadow var(--transition-speed) ease; }
        body.dark-mode .post-featured-image { box-shadow: 0 10px 30px rgba(255,255,255,0.05); }
        .post-featured-image img { width: 100%; /* Takes width of article column */ max-width: none; /* Override previous max-width */ height: auto; display: block; margin: 0 auto; }

        .post-meta { font-size: 0.9rem; color: var(--color-secondary); margin-bottom: var(--spacing-unit); display: flex; flex-wrap: wrap; gap: calc(var(--spacing-unit) * 1.2); align-items: center; }
        .post-meta .category a { background-color: var(--color-primary); color: #fff; padding: 3px 10px; border-radius: calc(var(--border-radius) / 1.5); font-size: 0.8rem; font-weight: 500; text-transform: uppercase; transition: background-color var(--transition-speed-fast) ease, transform var(--transition-speed-fast) ease; display: inline-block; }
        .post-meta .category a:hover { background-color: var(--color-accent); text-decoration: none; transform: translateY(-2px); }
        .post-title { font-size: 2.8rem; font-family: var(--font-serif); font-weight: 700; line-height: 1.25; margin-bottom: var(--spacing-unit); color: var(--color-text); transition: color var(--transition-speed) ease; }
        .author-info { display: flex; align-items: center; gap: calc(var(--spacing-unit) * 0.75); margin-bottom: calc(var(--spacing-unit) * 2.5); font-size: 0.95rem; }
        .author-info .avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid var(--color-border); }
        .author-info .author-name { font-weight: 500; color: var(--color-text); transition: color var(--transition-speed-fast) ease; }

        .content-body { font-family: var(--font-serif); font-size: 1.15rem; line-height: 1.8; color: var(--color-text); transition: color var(--transition-speed) ease; }
        .content-body > * + * { margin-top: calc(var(--spacing-unit) * 1.8); }
        .content-body h2, .content-body h3, .content-body h4 { font-family: var(--font-primary); font-weight: 700; line-height: 1.3; margin-top: calc(var(--spacing-unit) * 3); color: var(--color-text); transition: color var(--transition-speed) ease; }
        /* Ensure headings with IDs have enough space above them for scrolling */
        .content-body h2[id] { font-size: 2rem; border-bottom: 2px solid var(--color-primary); padding-bottom: 5px; display: inline-block; }
        .content-body h3[id] { font-size: 1.6rem; }
        .content-body h4[id] { font-size: 1.3rem; color: var(--color-primary); }
        .content-body h2:not([id]) { font-size: 2rem; border-bottom: 2px solid var(--color-primary); padding-bottom: 5px; display: inline-block; } /* Style non-ID H2s */
        .content-body h3:not([id]) { font-size: 1.6rem; }
        .content-body h4:not([id]) { font-size: 1.3rem; color: var(--color-primary); }

        /* Specific styling for images within content body */
        .content-body figure { margin: calc(var(--spacing-unit) * 2) 0; }
        .content-body figure img { border-radius: var(--border-radius); box-shadow: 0 5px 15px rgba(0,0,0,0.07); transition: box-shadow var(--transition-speed) ease; margin: 0; /* Remove default margin */ }
        body.dark-mode .content-body figure img { box-shadow: 0 5px 15px rgba(255,255,255,0.05); }
        .content-body figcaption { font-size: 0.9rem; color: var(--color-secondary); text-align: center; margin-top: calc(var(--spacing-unit) * 0.5); }


        .content-body p, .content-body ul, .content-body ol, .content-body blockquote, .content-body figure, .content-body pre, .content-body section, .content-body table, .content-body iframe {
            transition: none; /* Disable transitions */
        }

        .content-body ul, .content-body ol { margin-left: calc(var(--spacing-unit) * 1.5); padding-left: var(--spacing-unit); }
        .content-body li { margin-bottom: calc(var(--spacing-unit) * 0.5); }
        .content-body blockquote { border-left: 5px solid var(--color-blockquote-border); padding-left: calc(var(--spacing-unit) * 1.5); margin-left: 0; font-style: italic; font-size: 1.2rem; color: var(--color-secondary); transition: border-color var(--transition-speed) ease, color var(--transition-speed) ease; }
        .content-body code { font-family: var(--font-mono); background-color: var(--color-code-bg); padding: 3px 6px; border-radius: var(--border-radius); font-size: 0.9em; color: var(--color-text); transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease; }
        body.dark-mode .content-body code { color: #f8f9fa; }
        .content-body pre { background-color: var(--color-code-bg); padding: calc(var(--spacing-unit) * 1.5); border-radius: var(--border-radius); overflow-x: auto; position: relative; transition: background-color var(--transition-speed) ease; border: 1px solid var(--color-border); margin: var(--spacing-unit) 0; }
        .content-body pre code { background-color: transparent; padding: 0; font-size: 0.95rem; line-height: 1.6; color: var(--color-text); transition: color var(--transition-speed) ease; display: block; }
        body.dark-mode .content-body pre code { color: #f8f9fa; }
        .copy-code-button { position: absolute; top: 12px; right: 12px; background-color: var(--color-secondary); color: #fff; border: none; padding: 6px 12px; border-radius: var(--border-radius); font-size: 0.85rem; cursor: pointer; opacity: 0; transition: opacity var(--transition-speed) ease, background-color var(--transition-speed-fast) ease, transform var(--transition-speed-fast) ease; transform: translateY(5px); }
        .content-body pre:hover .copy-code-button { opacity: 1; transform: translateY(0); }
        .copy-code-button:hover { background-color: var(--color-primary); transform: scale(1.05) translateY(0); }
        .copy-code-button.copied { background-color: var(--color-accent); transform: scale(1.05) translateY(0); }

        .content-body .math { text-align: center; margin: var(--spacing-unit) 0; padding: var(--spacing-unit); background-color: var(--color-code-bg); border-radius: var(--border-radius); overflow-x: auto; border: 1px solid var(--color-border); }

        .content-body table { width: 100%; border-collapse: collapse; margin: calc(var(--spacing-unit) * 2) 0; font-size: 0.95rem; border: 1px solid var(--color-border); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .content-body th, .content-body td { border: 1px solid var(--color-border); padding: calc(var(--spacing-unit) * 0.75); text-align: left; }
        .content-body thead th { background-color: var(--color-code-bg); font-weight: 600; color: var(--color-text); }
        .content-body tbody tr:nth-child(even) { background-color: var(--color-code-bg); }
        body.dark-mode .content-body tbody tr:nth-child(even) { background-color: rgba(var(--color-bg-rgb), 0.1); }
        body.dark-mode .content-body thead th { background-color: var(--color-code-bg); }

        .section-divider { height: 5px; width: 100px; margin: calc(var(--spacing-unit) * 3) auto; background: linear-gradient(90deg, var(--color-primary), var(--color-accent), var(--color-primary)); background-size: 200% 100%; border-radius: 3px; animation: gradient-shift 4s linear infinite; }
        @keyframes gradient-shift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        /* Post Tags, Social Share, Author Bio, Related Posts, Comments... */
        .post-tags { margin-top: calc(var(--spacing-unit) * 3); padding-top: calc(var(--spacing-unit) * 1.5); border-top: 1px solid var(--color-border); transition: border-color var(--transition-speed) ease; }
        .post-tags span { font-weight: 600; margin-right: var(--spacing-unit); color: var(--color-secondary); transition: color var(--transition-speed) ease; }
        .post-tags a { display: inline-block; background-color: var(--color-code-bg); color: var(--color-secondary); padding: 5px 12px; border-radius: 15px; font-size: 0.9rem; margin-right: calc(var(--spacing-unit) / 2); margin-bottom: calc(var(--spacing-unit) / 2); transition: background-color var(--transition-speed-fast) ease, color var(--transition-speed-fast) ease, transform var(--transition-speed-fast) ease; border: 1px solid var(--color-border); }
        .post-tags a:hover { background-color: var(--color-primary); color: #fff; text-decoration: none; transform: translateY(-2px) scale(1.03); border-color: var(--color-primary); }

        .social-share { margin-top: calc(var(--spacing-unit) * 3); padding: calc(var(--spacing-unit) * 2); border: 1px solid var(--color-border); border-radius: var(--border-radius); background-color: var(--color-code-bg); text-align: center; transition: border-color var(--transition-speed) ease, background-color var(--transition-speed) ease; }
        .social-share h3 { margin-bottom: calc(var(--spacing-unit) * 1.5); font-size: 1.2rem; font-weight: 600; color: var(--color-text); transition: color var(--transition-speed) ease; }
        .share-buttons a, .share-buttons button { display: inline-flex; align-items: center; justify-content: center; margin: 6px; padding: 10px 18px; border-radius: var(--border-radius); color: #fff; font-size: 0.95rem; font-weight: 500; text-decoration: none; border: none; cursor: pointer; transition: opacity 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease; min-width: 110px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .share-buttons a:hover, .share-buttons button:hover { opacity: 0.9; transform: translateY(-3px) scale(1.02); text-decoration: none; color: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
        .share-facebook { background-color: #1877F2; } .share-twitter { background-color: #1DA1F2; } .share-linkedin { background-color: #0A66C2; } .share-reddit { background-color: #FF4500; } .share-email { background-color: #777; } .share-copy { background-color: var(--color-secondary); }
        .share-copy.copied { background-color: var(--color-accent) !important; }
        #native-share-button { background-color: #0056b3; }

        .author-bio { margin-top: calc(var(--spacing-unit) * 4); padding: calc(var(--spacing-unit) * 2); background-color: var(--color-code-bg); border-radius: var(--border-radius); display: flex; gap: calc(var(--spacing-unit) * 1.5); align-items: flex-start; transition: background-color var(--transition-speed) ease; border: 1px solid var(--color-border); }
        .author-bio .avatar { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; flex-shrink: 0; border: 3px solid var(--color-bg); box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .author-bio-content h4 { margin-bottom: calc(var(--spacing-unit) / 1.5); font-size: 1.3rem; color: var(--color-text); transition: color var(--transition-speed) ease; }
        .author-bio-content p { font-size: 1rem; line-height: 1.6; color: var(--color-secondary); transition: color var(--transition-speed) ease; margin-bottom: var(--spacing-unit); }
        .author-social-links a { margin-right: 12px; font-size: 1.3rem; color: var(--color-secondary); transition: color var(--transition-speed-fast) ease, transform var(--transition-speed-fast) ease; display: inline-block; }
        .author-social-links a:hover { color: var(--color-primary); transform: scale(1.1); }
        .author-social-links a svg { width: 20px; height: 20px; vertical-align: middle; fill: currentColor; }

        .related-posts { margin-top: calc(var(--spacing-unit) * 4); padding-top: calc(var(--spacing-unit) * 2.5); border-top: 1px solid var(--color-border); transition: border-color var(--transition-speed) ease; }
        .related-posts h2 { text-align: center; margin-bottom: calc(var(--spacing-unit) * 2); font-size: 1.8rem; font-weight: 600; color: var(--color-text); transition: color var(--transition-speed) ease; }
        .related-posts-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: calc(var(--spacing-unit) * 1.5); }
        .related-post-card { border: 1px solid var(--color-border); border-radius: var(--border-radius); overflow: hidden; background-color: var(--color-bg); transition: border-color var(--transition-speed) ease, box-shadow 0.3s ease, transform 0.3s ease; display: flex; flex-direction: column; }
        .related-post-card:hover { box-shadow: 0 8px 25px rgba(0,0,0,0.1); border-color: var(--color-primary); transform: translateY(-5px); }
        body.dark-mode .related-post-card { background-color: var(--color-code-bg); }
        body.dark-mode .related-post-card:hover { box-shadow: 0 8px 25px rgba(255,255,255,0.08); }
        .related-post-card a:first-child:focus-visible { outline-offset: -3px; }
        .related-post-card img { width: 100%; aspect-ratio: 16 / 9; object-fit: cover; border-bottom: 1px solid var(--color-border); transition: transform 0.3s ease; margin: 0; }
        .related-post-card:hover img { transform: scale(1.05); }
        .related-post-card-content { padding: calc(var(--spacing-unit) * 1.2); flex-grow: 1; display: flex; flex-direction: column; }
        .related-post-card h3 { font-size: 1.1rem; margin-bottom: calc(var(--spacing-unit) / 1.5); line-height: 1.4; flex-grow: 1; }
        .related-post-card h3 a { color: var(--color-text); transition: color var(--transition-speed-fast) ease; }
        .related-post-card h3 a:hover { color: var(--color-primary); text-decoration: none; }
        .related-post-card .post-meta { font-size: 0.8rem; margin-top: var(--spacing-unit); margin-bottom: 0; gap: calc(var(--spacing-unit) / 1.5); color: var(--color-secondary); }

        .comments-section { margin-top: calc(var(--spacing-unit) * 4); padding-top: calc(var(--spacing-unit) * 2.5); border-top: 1px solid var(--color-border); transition: border-color var(--transition-speed) ease; }
        .comments-section h2 { margin-bottom: calc(var(--spacing-unit) * 1.8); font-size: 1.8rem; font-weight: 600; color: var(--color-text); transition: color var(--transition-speed) ease; }
        /* Removed comment form - replaced by Giscus */
        .gh-comments-info { background-color: var(--color-illustration-bg); border: 1px dashed var(--color-secondary); padding: calc(var(--spacing-unit) * 1.5); margin: calc(var(--spacing-unit)*2) 0; border-radius: var(--border-radius); font-size: 0.95rem; line-height: 1.6; color: var(--color-secondary); }
        .gh-comments-info p { margin-bottom: 1em; }
        .gh-comments-info strong { color: var(--color-text); }
        .gh-comments-info code { font-size: 0.85em; padding: 2px 5px; background-color: rgba(0,0,0,0.05); border-radius: 3px; }
        body.dark-mode .gh-comments-info code { background-color: rgba(255,255,255,0.1); }
        #comment-thread-container { margin-top: calc(var(--spacing-unit) * 2); }

        /* 5. --- Footer --- */
        .site-footer { background-color: var(--color-code-bg); color: var(--color-secondary); padding: calc(var(--spacing-unit) * 2.5) 0; margin-top: calc(var(--spacing-unit) * 4); font-size: 0.9rem; text-align: center; transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease; border-top: 1px solid var(--color-border); }
        .site-footer .container { max-width: var(--main-wrapper-width); } /* Align footer content */
        .site-footer a { color: var(--color-secondary); transition: color var(--transition-speed-fast) ease; }
        .site-footer a:hover { color: var(--color-primary); }
        .footer-links { margin-top: calc(var(--spacing-unit) / 1.5); }
        .footer-links a { margin: 0 10px; }

        /* 6. --- Utility & Interaction Styles --- */
        #back-to-top { position: fixed; bottom: 25px; right: 25px; background-color: var(--color-primary); color: #fff; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 1.8rem; line-height: 50px; text-align: center; cursor: pointer; opacity: 0; visibility: hidden; transition: opacity var(--transition-speed) ease, visibility var(--transition-speed) ease, background-color var(--transition-speed-fast) ease, transform 0.2s ease; z-index: 90; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        #back-to-top.visible { opacity: 0.8; visibility: visible; transform: scale(1); }
        #back-to-top:hover { opacity: 1; background-color: var(--color-accent); transform: scale(1.1); }
        #back-to-top:active { transform: scale(1); }

        /* 7. --- Table of Contents Styling --- */
        #toc-container {
            padding: calc(var(--spacing-unit) * 1);
            border-left: 1px solid var(--color-border); /* Optional separator */
            transition: border-color var(--transition-speed) ease;
        }
        #toc-container h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: var(--spacing-unit);
            padding-bottom: calc(var(--spacing-unit) * 0.5);
            border-bottom: 1px solid var(--color-border);
            color: var(--color-text);
        }
        #toc-list {
            list-style: none;
            padding: 0;
            margin: 0;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        #toc-list li {
            margin-bottom: calc(var(--spacing-unit) * 0.5);
        }
        #toc-list a {
            display: block;
            color: var(--color-secondary);
            padding: 4px 0;
            transition: color var(--transition-speed-fast), border-left-color var(--transition-speed-fast), transform var(--transition-speed-fast);
            border-left: 3px solid transparent; /* For active state indicator */
            padding-left: calc(var(--spacing-unit) * 0.75);
            text-decoration: none;
        }
        #toc-list a:hover {
            color: var(--color-primary);
            transform: translateX(3px);
            text-decoration: none;
        }
        #toc-list a.active {
            color: var(--color-primary);
            font-weight: 600;
            border-left-color: var(--color-primary);
        }

        /* Back to blog link styling (added for consistency) */
        .back-to-blog {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          text-decoration: none;
          color: var(--color-primary);
          margin-bottom: calc(var(--spacing-unit) * 1.5);
          font-weight: 500;
          transition: color 0.2s ease, transform 0.2s ease;
        }
        .back-to-blog:hover {
          color: var(--color-accent);
          transform: translateX(-3px);
          text-decoration: none;
        }


        /* --- Responsive Adjustments --- */
        @media (max-width: 1024px) {
            .content-wrapper {
                grid-template-columns: 1fr;
                max-width: var(--container-width);
                width: 90%;
            }
            .toc-column {
                display: none;
            }
            .site-header .container,
            .site-footer .container {
                 max-width: var(--container-width);
            }
            .post-featured-image img {
                max-width: 800px;
            }
        }
        @media (max-width: 768px) {
            .post-title { font-size: 2.2rem; }
            .content-body { font-size: 1.1rem; }
            .content-body h2 { font-size: 1.8rem; }
            .content-body h3 { font-size: 1.5rem; }
            .author-bio { flex-direction: column; align-items: center; text-align: center; }
            .author-bio .avatar { margin-bottom: var(--spacing-unit); }
        }
         @media (max-width: 600px) {
              .related-posts-grid { grid-template-columns: 1fr; }
         }
    </style>
</head>
<body>
    <!-- Optional Loading Spinner -->
    <!-- <div class="loader-wrapper"><div class="loader"></div></div> -->

    <div id="progress-bar"></div>

    <header class="site-header">
        <div class="container">
             <a href="bloghome.html" class="logo">Ranjith's Blog</a>
             <div class="header-actions">
                 <input type="search" id="search-input" placeholder="Search posts..." aria-label="Search Input">
                 <button id="search-toggle" aria-label="Toggle Search" title="Search">üîç</button>
                 <button id="theme-toggle" aria-label="Toggle Dark Mode" title="Toggle Dark Mode">üåì</button>
            </div>
        </div>
    </header>

    <main class="main-content">

        <!-- New Content Wrapper for Article + TOC -->
        <div class="content-wrapper">

            <!-- Article Column -->
            <div class="article-column">
                <a href="bloghome.html" class="back-to-blog">‚Üê Back to Home</a> <!-- Moved here -->
                <article class="blog-post" itemscope itemtype="http://schema.org/BlogPosting">

                    <!-- Featured Image (from blog4) -->
                    <figure class="post-featured-image">
                        <img src="assets/blog_cover_image/chatbot.png"
                             alt="AI chatbot interface for healthcare"
                             itemprop="image"
                             loading="eager"> <!-- Load featured image eagerly -->
                             <!-- Adjusted height/width removed, let CSS handle it -->
                    </figure>

                    <!-- Post Meta (from blog4) -->
                    <div class="post-meta">
                        <span class="category"><a href="#category-projects" itemprop="articleSection">Projects</a></span>
                        <span class="category"><a href="#category-blogging" itemprop="articleSection">Blogging</a></span>
                        <span class="reading-time" title="Estimated reading time">‚è±Ô∏è Calculating...</span> <!-- Will be calculated by JS -->
                        <time class="publication-date" datetime="2025-02-24" itemprop="datePublished">February 24, 2025</time>
                    </div>

                    <!-- Post Title (from blog4) -->
                    <h1 class="post-title" itemprop="headline">Empowering Patients with Technology: A Deep Dive into My Healthcare Project</h1>

                    <!-- Author Info (from blog5 template) -->
                    <div class="author-info" itemprop="author" itemscope itemtype="http://schema.org/Person">
                         <img src="assets/myself/ranjith.png" alt="Ranjith Kumar Avatar" class="avatar" itemprop="image">
                        <span class="author-name" itemprop="name">Ranjith Kumar</span>
                    </div>

                    <!-- Content Body (Merged from blog4) -->
                    <div class="content-body" itemprop="articleBody">

                        <!-- Introduction -->
                        <p>In today‚Äôs fast-paced world, managing healthcare can feel overwhelming for patients. Between keeping track of prescriptions, understanding medical conditions, and remembering appointments, there‚Äôs a clear need for a smarter, more organized solution. That‚Äôs why I built an innovative interface‚Äîavailable as both an HTML webpage and an Android app‚Äîto empower patients by organizing their medical documents and providing intelligent, personalized assistance. This blog post takes you under the hood of my project, diving deep into its architecture, technology stack, workflow, challenges, and future potential. I‚Äôll explain everything in detail, sometimes repeating key points to ensure you fully grasp the technical nuances. If you‚Äôre ready for a technical journey, let‚Äôs get started!</p>

                        <!-- The Problem -->
                        <h2 id="section1">1. The Problem: Disorganized Healthcare Management</h2>
                        <p>Healthcare management is often a chaotic experience for patients. Many people still rely on physical copies of prescriptions, handwritten notes from doctors, and scattered appointment reminders‚Äîthink sticky notes or calendar marks that can easily be misplaced. Imagine trying to find a specific detail, like the dosage of a medication prescribed six months ago, buried in a pile of papers. It‚Äôs tedious, error-prone, and stressful. Worse, patients often lack an easy way to get answers about their health‚Äîlike what a medication does or when their next appointment is‚Äîwithout calling their doctor or scheduling a visit, which takes time they may not have.</p>
                        <p>This disorganization isn‚Äôt just inconvenient; it can lead to real problems. Forgetting a dose or misreading a prescription could worsen a condition. I saw this inefficiency as a gap that technology could fill. My goal was to create a digital system that not only stores and organizes medical data but also makes it instantly accessible and actionable using artificial intelligence. I wanted patients to have control over their healthcare in a way that‚Äôs intuitive and reliable.</p>

                        <!-- The Solution -->
                        <h2 id="section2">2. The Solution: A Smart, AI-Powered Healthcare Assistant</h2>
                        <p>My project is a patient-focused interface that combines document management with cutting-edge AI to simplify healthcare. It‚Äôs available as both a webpage (built with HTML) and an Android app, ensuring flexibility for users. Here‚Äôs what it does, broken down into its core features:</p>
                        <ul>
                            <li><strong>Document Upload</strong>: Patients can scan prescriptions or medical records with their phone or upload files directly to the webpage. These are stored securely and permanently for future access.</li>
                            <li><strong>Organization & Retrieval</strong>: The system uses optical character recognition (OCR) to extract text from documents, then converts that text into vector embeddings‚Äînumerical representations of meaning‚Äîfor storage in a vector database. This makes retrieval fast and precise.</li>
                            <li><strong>AI-Powered Q&A</strong>: A fine-tuned Large Language Model (LLM) answers questions about medications, medical history, or conditions. It uses uploaded documents for context or taps into its general medical knowledge when needed.</li>
                            <li><strong>Smart Reminders</strong>: The system automatically sets reminders for medications and appointments based on document data, reducing the chance of missed doses or visits.</li>
                            <li><strong>Voice Mode</strong>: Users can ask questions or hear responses via voice, thanks to speech recognition and text-to-speech tech‚Äîperfect for accessibility.</li>
                            <li><strong>Versatility</strong>: It runs locally on a device or connects to the internet, adapting to different user needs.</li>
                        </ul>
                        <p>This isn‚Äôt just a basic app‚Äîit‚Äôs a sophisticated system designed to tackle healthcare chaos with technology. Let‚Äôs explore the tech behind it.</p>

                        <!-- Tech Stack Deep Dive -->
                        <h2 id="section3">3. Tech Stack Deep Dive: Building a Robust Architecture</h2>
                        <p>Building this system required a carefully chosen tech stack, where every tool serves a specific purpose. I‚Äôll explain each component, why I picked it, and how it fits into the project. This section gets technical, so I‚Äôll repeat key ideas where it helps clarify things.</p>
                        <h3>Frontend</h3> <!-- Changed from h3 to h3[id] if needed for TOC, but generally h3 is fine here -->
                        <ul>
                            <li><strong>HTML Webpage & Android App</strong>: The interface has two faces: a webpage built with HTML, CSS, and JavaScript for browsers, and an Android app written in Java/Kotlin for mobile users. The webpage is responsive, meaning it adjusts to any screen size, while the app offers a native experience with smooth animations and touch controls. Both connect to the same backend via APIs, ensuring consistency.</li>
                        </ul>
                        <h3>Backend</h3>
                        <ul>
                            <li><strong>Flask</strong>: This lightweight Python framework runs the server. It handles tasks like processing uploaded documents and serving LLM responses. I chose Flask because it‚Äôs simple to set up and perfect for prototyping, though I‚Äôll discuss scalability challenges later.</li>
                            <li><strong>Flask-SocketIO</strong>: For the chat feature, I needed real-time responses‚Äîlike seeing the AI‚Äôs answer appear word by word. Flask-SocketIO uses WebSockets to stream text from the LLM to the user, making the interaction feel live and engaging.</li>
                        </ul>
                        <h3>Database</h3>
                        <ul>
                            <li><strong>ChromaDB</strong>: This vector database stores embeddings of document text. Why a vector database? Because traditional databases (like SQL) are slow for searching text by meaning. ChromaDB uses approximate nearest neighbor (ANN) algorithms‚Äîthink of them as shortcuts to find similar items‚Äîto retrieve relevant documents in milliseconds, even with thousands of entries.</li>
                        </ul>
                        <h3>Large Language Model</h3>
                        <ul>
                            <li><strong>Llama 3.2 3B</strong>: I picked this 3-billion-parameter LLM because it‚Äôs powerful yet small enough to run on a decent laptop. I fine-tuned it with 3,000+ medical conversations to make it healthcare-savvy, teaching it to understand prescriptions and patient queries.</li>
                            <li><strong>Retrieval-Augmented Generation (RAG)</strong>: The LLM doesn‚Äôt just guess‚Äîit uses RAG to fetch relevant document data from ChromaDB before answering. For example, if you ask about your medication, RAG finds the prescription text and feeds it to the LLM as context, ensuring accurate, personalized replies.</li>
                            <li><strong>Medical Knowledge Base</strong>: Beyond documents, the LLM draws on a vast medical dataset (like PubMed) I baked into its training. This lets it answer general questions, like ‚ÄúWhat‚Äôs Amoxicillin used for?‚Äù even without a specific document.</li>
                        </ul>
                        <h3>Voice Processing</h3>
                        <ul>
                            <li><strong>Vosk</strong>: This open-source tool turns spoken questions into text. It‚Äôs offline-capable and accurate, using pre-trained models to handle accents and noise. I chose it for its flexibility and low resource use.</li>
                            <li><strong>PyTTS</strong>: After the LLM generates an answer, PyTTS converts it to speech. It produces natural-sounding voices, making the system accessible to users who can‚Äôt read screens easily.</li>
                        </ul>
                        <h3>Text Processing</h3>
                        <ul>
                            <li><strong>Tesseract OCR</strong>: To read scanned prescriptions, I use Tesseract, an open-source OCR engine. It extracts text‚Äîlike ‚Äú500mg Amoxicillin‚Äù‚Äîfrom images, which I then process further. It‚Äôs not perfect with handwriting, but I‚Äôll cover that challenge later.</li>
                            <li><strong>Vector Embeddings</strong>: Using a model like Sentence-BERT, I turn text into vectors‚Äîthink of them as coordinates in a high-dimensional space where similar meanings are close together. These vectors go into ChromaDB for fast retrieval.</li>
                        </ul>

                        <!-- RAG Image from blog4 - wrapped in figure -->
                        <figure>
                            <img src="assets/content_images/RAG.png" alt="Retrieval-Augmented Generation workflow diagram" loading="lazy" style="max-width: 780px;"> <!-- Applied max-width for consistency, removed fixed height -->
                            <figcaption>Diagram illustrating the Retrieval-Augmented Generation (RAG) workflow used in the project.</figcaption>
                        </figure>

                        <!-- Workflow: How It All Comes Together -->
                        <h2 id="section4">4. Workflow: How It All Comes Together</h2>
                        <p>Now, let‚Äôs walk through how this system works in action, step by step. I‚Äôll repeat details where it helps paint the full picture.</p>
                        <h3>Step 1: Document Upload</h3> <!-- Changed h3 to h3 if needed for TOC -->
                        <p>A patient uploads a prescription image via the webpage or app. The file hits the Flask server, where Tesseract OCR extracts the text‚Äîsay, ‚ÄúTake 500mg Amoxicillin twice daily.‚Äù This raw text is the starting point.</p>
                        <h3>Step 2: Text Processing</h3>
                        <p>The text is tokenized (split into words or phrases) using a tokenizer from Hugging Face, then fed into Sentence-BERT to create vector embeddings. These embeddings capture the meaning of the text‚Äîlike the fact that ‚Äútwice daily‚Äù relates to timing. They‚Äôre stored in ChromaDB with metadata (patient ID, date) for organization.</p>
                        <h3>Step 3: Question Answering</h3>
                        <p>When the patient asks, ‚ÄúWhen do I take my Amoxicillin?‚Äù the query is embedded into a vector too. ChromaDB runs a similarity search using ANN to find the top-k matching document vectors (like the prescription). RAG passes these to Llama 3.2 3B, which crafts a response: ‚ÄúTake 500mg twice daily.‚Äù Flask-SocketIO streams this live to the chat interface. For broader questions (‚ÄúWhat‚Äôs Amoxicillin for?‚Äù), the LLM uses its medical knowledge base instead.</p>
                        <h3>Step 4: Reminder Setting</h3>
                        <p>The system parses ‚Äútwice daily‚Äù using a simple NLP rule set, extracting the schedule. A tool like APScheduler sets reminders, triggering notifications or voice alerts via PyTTS at the right times.</p>
                        <h3>Step 5: Voice Interaction</h3>
                        <p>For voice users, Vosk transcribes speech to text (‚ÄúWhen do I take my Amoxicillin?‚Äù), processes it as above, and PyTTS reads the answer aloud. It‚Äôs a full loop of hands-free interaction.</p>

                        <!-- Challenges and Solutions -->
                        <h2 id="section5">5. Challenges and Solutions: Overcoming Technical Hurdles</h2>
                        <p>This project had its share of obstacles. Here‚Äôs how I tackled them, with technical depth and some repetition for clarity:</p>
                        <ul>
                            <li><strong>OCR Accuracy</strong>: Tesseract struggled with messy handwriting. I improved it by pre-processing images (sharpening, removing noise) and training it on medical handwriting samples, raising accuracy from 60% to 85%.</li>
                            <li><strong>LLM Fine-Tuning</strong>: Llama 3.2 3B wasn‚Äôt medical-ready out of the box. I generated 3,000+ synthetic doctor-patient chats with GPT-4, then used LoRA‚Äîa technique to tweak only parts of the model‚Äîto fine-tune it efficiently on a single GPU.</li>
                            <li><strong>Privacy</strong>: Medical data needs protection. I added AES-256 encryption for uploads and stored data locally or on a HIPAA-compliant server. OAuth2 handles user logins securely.</li>
                            <li><strong>Scalability</strong>: Flask works for one user but slows with many. I‚Äôm planning to switch to FastAPI and use Docker/Kubernetes for future scaling‚Äîmore on that later.</li>
                        </ul>

                        <!-- Impact -->
                        <h2 id="section6">6. Impact: Transforming Patient Healthcare</h2>
                        <p>This system changes healthcare for patients in big ways:</p>
                        <ul>
                            <li><strong>Organization</strong>: No lost papers‚Äîeverything‚Äôs digital and searchable.</li>
                            <li><strong>Empowerment</strong>: Instant answers save time and reduce reliance on doctors for small questions.</li>
                            <li><strong>Convenience</strong>: Voice and reminders make it easy, especially for the elderly or visually impaired.</li>
                            <li><strong>Efficiency</strong>: Fewer trivial queries mean doctors can focus on critical cases.</li>
                        </ul>

                        <!-- Future Plans -->
                        <h2 id="section7">7. Future Plans: Scaling and Enhancing the System</h2>
                        <p>I‚Äôm not stopping here. Future enhancements include:</p>
                        <ul>
                            <li><strong>Multi-Language Support</strong>: Adding Spanish, Hindi, etc., to reach more users.</li>
                            <li><strong>Wearable Integration</strong>: Linking to smartwatches for real-time health tracking.</li>
                            <li><strong>Cloud Scaling</strong>: Using FastAPI, Docker, and Kubernetes to handle thousands of users.</li>
                        </ul>

                        <!-- Conclusion -->
                        <h2 id="section8">8. Conclusion: A Step Toward Smarter Healthcare</h2>
                        <p>This project blends AI, document management, and accessibility into a tool that empowers patients. It‚Äôs a technical feat I‚Äôm proud of, and I‚Äôd love your feedback‚Äîor collaboration! Reach out if you‚Äôre interested.</p>
                        <!-- Removed the separate "Connect" section here, as Author Bio below serves a similar purpose -->

                    </div> <!-- /.content-body -->

                     <!-- Post Tags (from blog4) -->
                     <div class="post-tags" itemprop="keywords">
                         <span>Tags:</span>
                         <a href="#tag-projects">Projects</a>
                         <a href="#tag-blogging">Blogging</a>
                         <!-- Add more relevant tags if desired -->
                         <a href="#tag-ai">AI</a>
                         <a href="#tag-healthcare">Healthcare</a>
                         <a href="#tag-llm">LLM</a>
                         <a href="#tag-python">Python</a>
                     </div>

                     <!-- Social Share Section (from blog5 template) -->
                     <div class="social-share">
                         <h3>Share This Post</h3>
                         <div class="share-buttons">
                             <a href="#" class="share-facebook" target="_blank" rel="noopener noreferrer" aria-label="Share on Facebook">Facebook</a>
                             <a href="#" class="share-twitter" target="_blank" rel="noopener noreferrer" aria-label="Share on Twitter">Twitter</a>
                             <a href="https://www.linkedin.com/shareArticle?mini=true&url=[YOUR_BLOG_POST_URL]&title=Empowering%20Patients%20with%20Technology" class="share-linkedin" target="_blank" rel="noopener noreferrer" aria-label="Share on LinkedIn">LinkedIn</a>
                             <a href="#" class="share-reddit" target="_blank" rel="noopener noreferrer" aria-label="Share on Reddit">Reddit</a>
                             <a href="mailto:?subject=Check%20out%20this%20post%20on%20AI%20in%20Healthcare!&body=Thought%20you%20might%20find%20this%20interesting%3A%0A%0A[YOUR_BLOG_POST_URL]" class="share-email" aria-label="Share via Email">Email</a>
                             <button id="copy-link-button" class="share-copy" aria-label="Copy post link">Copy Link</button>
                              <button id="native-share-button" aria-label="Share natively" style="display: none;">Share...</button>
                        </div>
                     </div>

                     <!-- Author Bio (from blog5 template, content potentially updated) -->
                     <section class="author-bio" itemprop="author" itemscope itemtype="http://schema.org/Person">
                         <img src="assets/myself/ranjith.png" alt="Ranjith Kumar Avatar" class="avatar" itemprop="image">
                         <div class="author-bio-content">
                            <h4 itemprop="name">Ranjith Kumar</h4>
                            <p itemprop="description">Passionate about leveraging AI and technology to solve real-world problems, like improving healthcare accessibility. Sharing insights from projects and explorations in Deep Learning, NLP, and software development.</p>
                            <div class="author-social-links">
                                 <a href="https://www.linkedin.com/in/ranjith-kumar-b66180250" target="_blank" rel="noopener me" aria-label="Ranjith Kumar on LinkedIn" title="LinkedIn">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                                 </a>
                                 <a href="https://github.com/P-RanjithKumar" target="_blank" rel="noopener me" aria-label="Ranjith Kumar on GitHub" title="GitHub">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                                 </a>
                                 <a href="https://www.instagram.com/ranjithh_56" target="_blank" rel="noopener me" aria-label="Ranjith Kumar on Instagram" title="Instagram">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                                 </a>
                            </div>
                         </div>
                    </section>

                    <!-- Related Posts Section (Updated links from blog4 nav) -->
                    <section class="related-posts">
                        <h2>Previous & Next Posts</h2>
                        <div class="related-posts-grid">
                            <!-- Previous Post Link -->
                            <div class="related-post-card">
                                 <a href="blog3.html" aria-label="Read previous post"> <!-- Link from blog4 -->
                                    <img src="assets/blogpost thumbnails/blog3.png" alt="Previous Post Thumbnail" loading="lazy"> <!-- Placeholder Image -->
                                </a>
                                 <div class="related-post-card-content">
                                    <h3><a href="blog3.html">‚Üê Previous Post: How I learnt Deep Learning and LLMs</a></h3> <!-- Placeholder Title -->
                                    <div class="post-meta">
                                        <!-- <time datetime="2025-XX-XX">Month Day, 2025</time> -->
                                    </div>
                                 </div>
                            </div>
                             <!-- Next Post Link -->
                             <div class="related-post-card">
                                 <a href="blog5.html" aria-label="Read next post"> <!-- Link from blog4 -->
                                    <img src="assets/blogpost thumbnails/blog5.png" alt="Next Post Thumbnail - RL and Attention" loading="lazy"> <!-- Image from blog5 -->
                                </a>
                                 <div class="related-post-card-content">
                                    <h3><a href="blog5.html">Next Post: Diving into RL and Attention Mechanisms ‚Üí</a></h3> <!-- Title from blog5 -->
                                    <div class="post-meta">
                                         <time datetime="2025-03-07">March 7, 2025</time> <!-- Date from blog5 -->
                                    </div>
                                 </div>
                            </div>
                        </div>
                    </section>

                    <!-- Comments Section (from blog5 template - Giscus) -->
                    <section id="comments" class="comments-section">
                        <h2>Join the Discussion (<span id="comment-count">0</span>)</h2>

                        <div class="gh-comments-info">
                            <p><strong>Comments via GitHub Discussions:</strong> This blog uses <a href="https://giscus.app/" target="_blank" rel="noopener">Giscus</a>, which leverages GitHub Discussions for comments.</p>
                            <p>You'll need a GitHub account to comment. Comments will appear in a dedicated Discussion category within the blog's repository.</p>
                        </div>

                        <!-- Giscus Script Embed Area -->
                        <div id="comment-thread-container">
                            <script src="https://giscus.app/client.js"
                                    data-repo="P-RanjithKumar/p-ranjithkumar.github.io"
                                    data-repo-id="R_kgDONYyxxg"
                                    data-category="Blog Comments"
                                    data-category-id="DIC_kwDONYyxxs4CpBgf"
                                    data-mapping="pathname"
                                    data-strict="0"
                                    data-reactions-enabled="1"
                                    data-emit-metadata="1"
                                    data-input-position="bottom"
                                    data-theme="preferred_color_scheme"
                                    data-lang="en"
                                    crossorigin="anonymous"
                                    async>
                            </script>
                            <noscript>Please enable JavaScript to view the comments powered by Giscus.</noscript>
                         </div>
                         <!-- End Giscus Script Embed Area -->

                    </section>

                </article> <!-- /.blog-post -->
            </div> <!-- /.article-column -->

            <!-- Table of Contents Column (Updated for blog4 content) -->
            <aside class="toc-column">
                 <nav id="toc-container" aria-label="Table of Contents">
                    <h3>Table of Contents</h3>
                    <ol id="toc-list">
                        <!-- TOC items manually created based on blog4 headings -->
                        <li><a href="#section1">1. The Problem</a></li>
                        <li><a href="#section2">2. The Solution</a></li>
                        <li><a href="#section3">3. Tech Stack Deep Dive</a></li>
                        <li><a href="#section4">4. Workflow</a></li>
                        <li><a href="#section5">5. Challenges & Solutions</a></li>
                        <li><a href="#section6">6. Impact</a></li>
                        <li><a href="#section7">7. Future Plans</a></li>
                        <li><a href="#section8">8. Conclusion</a></li>
                        <!-- Removed section9 (Let's connect) as it's handled by author bio -->
                    </ol>
                </nav>
            </aside> <!-- /.toc-column -->

        </div> <!-- /.content-wrapper -->
    </main> <!-- /.main-content -->

    <!-- Footer (from blog5 template) -->
    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2025 Ranjith Kumar. Exploring AI and sharing the journey.</p>
            <div class="footer-links">
                 <a href="#privacy">Privacy Policy</a> |
                 <a href="#terms">Terms of Use</a> |
                 <a href="#contact">Contact</a>
            </div>
        </div>
    </footer>

    <button id="back-to-top" aria-label="Back to top" title="Back to top" style="transform: scale(0);">‚Üë</button>

    <script>
    // --- Copied JavaScript from blog5.html ---
    document.addEventListener('DOMContentLoaded', () => {

        // --- Theme Toggle ---
        const themeToggleButton = document.getElementById('theme-toggle');
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        const currentTheme = localStorage.getItem('theme');
        const sunIcon = '‚òÄÔ∏è';
        const moonIcon = 'üåì';
        let isDarkMode = false;

        const setTheme = (theme) => {
            isDarkMode = theme === 'dark';
            document.body.classList.toggle('dark-mode', isDarkMode);
            themeToggleButton.textContent = isDarkMode ? sunIcon : moonIcon;
            themeToggleButton.setAttribute('aria-label', `Switch to ${isDarkMode ? 'Light' : 'Dark'} Mode`);
            localStorage.setItem('theme', theme);

            if (isDarkMode) {
                 document.body.style.setProperty('--color-bg-rgb', '18, 18, 18');
                 document.body.style.setProperty('--color-primary-rgb', '77, 171, 247');
            } else {
                 document.body.style.setProperty('--color-bg-rgb', '255, 255, 255');
                 document.body.style.setProperty('--color-primary-rgb', '13, 110, 253');
            }
            // Update Giscus theme
             const giscusFrame = document.querySelector('iframe.giscus-frame');
             if (giscusFrame?.contentWindow) {
                 giscusFrame.contentWindow.postMessage({ giscus: { setConfig: { theme: isDarkMode ? 'dark' : 'light' } } }, 'https://giscus.app');
             }
        };

        const initialTheme = currentTheme || (prefersDarkScheme.matches ? 'dark' : 'light');
        setTheme(initialTheme);

        themeToggleButton.addEventListener('click', () => {
            setTheme(document.body.classList.contains('dark-mode') ? 'light' : 'dark');
        });
        prefersDarkScheme.addEventListener('change', (e) => { if (!localStorage.getItem('theme')) setTheme(e.matches ? 'dark' : 'light'); });


         // --- Search Toggle ---
         const searchToggleButton = document.getElementById('search-toggle');
         const searchInput = document.getElementById('search-input');
         searchToggleButton.addEventListener('click', () => { document.body.classList.toggle('search-active'); if(document.body.classList.contains('search-active')) searchInput.focus(); });

        // --- Back to Top Button ---
        const backToTopButton = document.getElementById('back-to-top');
        window.addEventListener('scroll', () => {
             const isVisible = window.scrollY > 400;
             backToTopButton.classList.toggle('visible', isVisible);
             backToTopButton.style.transform = isVisible ? 'scale(1)' : 'scale(0)';
        }, { passive: true });
        backToTopButton.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));


        // --- Reading Progress Bar ---
        const progressBar = document.getElementById('progress-bar');
         const updateProgressBar = () => {
              const contentBody = document.querySelector('.content-body');
              if (!contentBody) return; // Exit if no content body
              const element = document.documentElement;
              const body = document.body;
              const scrollableHeight = Math.max( body.scrollHeight, body.offsetHeight,
                                                element.clientHeight, element.scrollHeight, element.offsetHeight ) - window.innerHeight;
              const scrolled = scrollableHeight > 0 ? (window.scrollY / scrollableHeight) * 100 : 0;
              progressBar.style.width = `${Math.min(scrolled, 100)}%`;
         };
         window.addEventListener('scroll', updateProgressBar, { passive: true });
         window.addEventListener('resize', updateProgressBar);
         updateProgressBar(); // Initial calculation


         // --- Copy Code Button ---
         document.querySelectorAll('.copy-code-button').forEach(button => {
             const pre = button.closest('pre');
             const code = pre?.querySelector('code');
             if (!code || !navigator.clipboard) { button.style.display = 'none'; return; }
             button.addEventListener('click', async () => {
                 try {
                     await navigator.clipboard.writeText(code.innerText);
                     button.textContent = 'Copied!'; button.classList.add('copied');
                     setTimeout(() => { button.textContent = 'Copy'; button.classList.remove('copied'); }, 2000);
                 } catch (err) { console.error('Copy failed:', err); button.textContent = 'Error'; }
             });
         });

        // --- Copy Link Button ---
        const copyLinkButton = document.getElementById('copy-link-button');
        if (copyLinkButton && navigator.clipboard) {
            copyLinkButton.addEventListener('click', async () => {
                 try {
                     const postUrl = window.location.href;
                     await navigator.clipboard.writeText(postUrl);
                     copyLinkButton.textContent = 'Link Copied!'; copyLinkButton.classList.add('copied');
                     setTimeout(() => { copyLinkButton.textContent = 'Copy Link'; copyLinkButton.classList.remove('copied'); }, 2000);
                 } catch (err) { console.error('Copy link failed:', err); copyLinkButton.textContent = 'Error'; }
            });
        } else if (copyLinkButton) { copyLinkButton.style.display = 'none'; }


        // --- Native Share API Button ---
        const nativeShareButton = document.getElementById('native-share-button');
        const postTitle = document.querySelector('.post-title')?.innerText || document.title;
        const shareUrl = window.location.href;
        if (nativeShareButton && navigator.share) {
             nativeShareButton.style.display = 'inline-flex';
             nativeShareButton.addEventListener('click', async () => {
                 try {
                    await navigator.share({
                        title: postTitle,
                        text: `Check out this post: ${postTitle}`,
                        url: shareUrl
                    });
                 } catch (err) {
                    if (err.name !== 'AbortError') { console.error('Share failed:', err); }
                 }
             });
        } else if(nativeShareButton) { nativeShareButton.style.display = 'none'; }




        // --- Table of Contents (TOC) Active State Highlighting ---
        const tocLinks = document.querySelectorAll('#toc-list a');
        const sections = [];
        tocLinks.forEach(link => {
            try {
                 const selector = link.getAttribute('href');
                 if (selector && selector.startsWith('#')) {
                    const section = document.querySelector(selector); // Use querySelector for safety
                    if (section) {
                        sections.push(section);
                    } else {
                        console.warn(`TOC link points to non-existent section: ${selector}`);
                    }
                }
            } catch (e) {
                 console.error(`Invalid selector in TOC link: ${link.getAttribute('href')}`, e);
            }
        });


        if (tocLinks.length > 0 && sections.length > 0) {
             const observerOptions = {
                 root: null,
                 rootMargin: `-${getComputedStyle(document.documentElement).getPropertyValue('--header-height').trim()} 0px -60% 0px`,
                 threshold: 0
             };

             const activateTocLink = (id) => {
                let foundActive = false;
                 tocLinks.forEach(link => {
                     if (link.getAttribute('href') === `#${id}`) {
                         link.classList.add('active');
                         foundActive = true;
                         // Optional scroll into view
                         // link.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                     } else {
                         link.classList.remove('active');
                     }
                 });
                 // Fallback: if no section matched exactly (e.g., between sections), activate the first one
                 if (!foundActive && tocLinks.length > 0 && window.scrollY < sections[0].offsetTop) {
                    // If scrolled near the top before the first section, deactivate all
                    tocLinks.forEach(link => link.classList.remove('active'));
                 } else if (!foundActive && tocLinks.length > 0) {
                    // If somehow no section is active, try activating the first link as a fallback
                    // tocLinks[0].classList.add('active'); // Or leave inactive
                 }
             };

             const observerCallback = (entries) => {
                 let topVisibleSectionId = null;
                 let minTop = Infinity;

                 entries.forEach(entry => {
                    const rect = entry.boundingClientRect;
                    // Consider entry intersecting and either fully visible or partially visible at the top
                    if (entry.isIntersecting) {
                         if (rect.top >= 0 && rect.top < minTop) {
                            minTop = rect.top;
                            topVisibleSectionId = entry.target.id;
                         }
                    }
                 });

                 // If no section is intersecting *below* the header margin, find the last one *above* it
                 if (!topVisibleSectionId) {
                     let lastSectionAbove = null;
                     const topMargin = parseInt(observerOptions.rootMargin.split(' ')[0], 10) * -1; // e.g., 65 + 24 = 89
                     for (let i = sections.length - 1; i >= 0; i--) {
                         if (sections[i].getBoundingClientRect().top < topMargin) {
                             lastSectionAbove = sections[i].id;
                             break;
                         }
                     }
                     if (lastSectionAbove) {
                         topVisibleSectionId = lastSectionAbove;
                     }
                 }

                 // Activate the determined section link, or the first one if at the very top
                 if (topVisibleSectionId) {
                     activateTocLink(topVisibleSectionId);
                 } else if (window.scrollY < sections[0].offsetTop - 100) { // Deactivate if well above the first section
                    tocLinks.forEach(link => link.classList.remove('active'));
                 } else if (sections.length > 0) {
                    // Default to first section if near top or first one is slightly visible
                     activateTocLink(sections[0].id);
                 }
             };


             const scrollObserver = new IntersectionObserver(observerCallback, observerOptions);
             sections.forEach(section => scrollObserver.observe(section));

        } else {
            console.log("TOC or Sections not found for active state highlighting.");
        }

        // --- Dynamic Reading Time Calculation ---
        try {
            const contentBody = document.querySelector('.content-body');
            const readingTimeSpan = document.querySelector('.reading-time');
            if (contentBody && readingTimeSpan) {
                 const text = contentBody.innerText || contentBody.textContent;
                 const wordCount = text.split(/\s+/).filter(Boolean).length;
                 const wordsPerMinute = 200; // Average reading speed
                 const minutes = Math.ceil(wordCount / wordsPerMinute);
                 readingTimeSpan.innerHTML = `‚è±Ô∏è ~${minutes} min read`; // Update the span
                 readingTimeSpan.title = `Estimated reading time: ${minutes} minutes`;
            } else if (readingTimeSpan) {
                 // Fallback if content body isn't found
                 readingTimeSpan.innerHTML = `‚è±Ô∏è ~12 min read`; // Use value from blog4
                 readingTimeSpan.title = `Estimated reading time: 12 minutes`;
            }
        } catch (e) {
            console.error("Could not calculate reading time:", e);
            const readingTimeSpan = document.querySelector('.reading-time');
            if(readingTimeSpan) readingTimeSpan.innerHTML = `‚è±Ô∏è Reading time N/A`;
        }

        // --- Giscus comment count update (listening for messages) ---
         window.addEventListener('message', event => {
             if (event.origin !== 'https://giscus.app') return;
             if (event.data?.giscus?.discussion) {
                const commentCount = event.data.giscus.discussion.totalCommentCount;
                const commentCountSpan = document.getElementById('comment-count');
                if (commentCountSpan) {
                    commentCountSpan.textContent = commentCount;
                }
             }
         });

    }); // End DOMContentLoaded
    </script>

</body>
</html>